<!DOCTYPE html>
<html>
<head>
    <title>AJAX Sign Up & Login</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

<div class="container">

    <img src="hospital-logo.png" class="logo">

    <!-- SIGN UP FORM -->
    <div id="signupBox">
        <h2>Sign Up</h2>
        <form id="signupForm">
            <input type="text" id="sname" placeholder="Full Name" required>
            <input type="email" id="semail" placeholder="Email" required>
            <input type="password" id="spassword" placeholder="Password" required>
            <button type="submit">Sign Up</button>
        </form>
    </div>

    <!-- LOGIN FORM (HIDDEN INITIALLY) -->
    <div id="loginBox" style="display:none;">
        <h2>Login</h2>
        <form id="loginForm">
            <input type="email" id="lemail" placeholder="Email" required>
            <input type="password" id="lpassword" placeholder="Password" required>
            <button type="submit">Login</button>
        </form>
        <p id="loginMsg"></p>
    </div>

</div>

<script>
// SIGN UP (AJAX STYLE)
document.getElementById("signupForm").addEventListener("submit", function(e){
    e.preventDefault();

    let user = {
        name: sname.value,
        email: semail.value,
        password: spassword.value
    };

    localStorage.setItem("userData", JSON.stringify(user));

    // AJAX-like UI update
    document.getElementById("signupBox").style.display = "none";
    document.getElementById("loginBox").style.display = "block";
});

// LOGIN
document.getElementById("loginForm").addEventListener("submit", function(e){
    e.preventDefault();

    let user = JSON.parse(localStorage.getItem("userData"));

    if(user && lemail.value === user.email && lpassword.value === user.password){
        localStorage.setItem("loggedIn", "true");
        window.location.href = "hospital.html";
    } else {
        document.getElementById("loginMsg").innerText = "Invalid login details";
    }
});
</script>

</body>
</html>
